import{h as d,j as h,k as c,m as u,W as E}from"./runtime.DJFpnPC0.js";import{h as t,e as v,H as g,g as k,j as A,k as m,l as p}from"./disclose-version.DoApVL7c.js";function N(r,l,o,n=null,a=!1){t&&v();var e=r,f=null,s=null,i=null,T=a?E:0;d(()=>{if(i===(i=!!l()))return;let _=!1;if(t){const y=e.data===g;i===y&&(e=k(),A(e),m(!1),_=!0)}i?(f?h(f):f=c(()=>o(e)),s&&u(s,()=>{s=null})):(s?h(s):n&&(s=c(()=>n(e))),f&&u(f,()=>{f=null})),_&&m(!0)},T),t&&(e=p)}function S(r,l,o){t&&v();var n=r,a,e;d(()=>{a!==(a=l())&&(e&&(u(e),e=null),a&&(e=c(()=>o(n,a))))}),t&&(n=p)}export{S as c,N as i};

import{q as N,w as O,x as g,j as u,i as R,d as C,k as h,l as I,y as S,z as D,o as Y,A as b,B as T,C as l,h as v,D as k,P as M}from"./disclose-version.BZrHNTVx.js";import{G as A,H as P,J as V,K as $,m as j,p as q,o as z,a as B,h as G}from"./runtime.C5r0zYmH.js";function F(r,e){(r.__t??(r.__t=r.nodeValue))!==e&&(r.nodeValue=r.__t=e)}function J(r,e){const s=e.anchor??e.target.appendChild(N());return A(()=>H(r,{...e,anchor:s}),!1)}function Q(r,e){e.intro=e.intro??!1;const s=e.target,i=v,f=h;try{return A(()=>{for(var a=s.firstChild;a&&(a.nodeType!==8||a.data!==O);)a=a.nextSibling;if(!a)throw g;u(!0),R(a),C();const m=H(r,{...e,anchor:a});if(h.nodeType!==8||h.data!==I)throw S(),g;return u(!1),m},!1)}catch(a){if(a===g)return e.recover===!1&&P(),D(),Y(s),u(!1),J(r,e);throw a}finally{u(i),R(f)}}const d=new Map;function H(r,{target:e,anchor:s,props:i={},events:f,context:a,intro:m=!0}){D();var _=new Set,y=t=>{for(var o=0;o<t.length;o++){var n=t[o];if(!_.has(n)){_.add(n);var w=M.includes(n);e.addEventListener(n,l,{passive:w});var E=d.get(n);E===void 0?(document.addEventListener(n,l,{passive:w}),d.set(n,1)):d.set(n,E+1)}}};y(V(b)),T.add(y);var c=void 0,L=$(()=>(j(()=>{if(a){q({});var t=G;t.c=a}f&&(i.$$events=f),v&&k(s,null),c=r(s,i)||{},v&&(z.nodes.end=h),a&&B()}),()=>{for(var t of _){e.removeEventListener(t,l);var o=d.get(t);--o===0?(document.removeEventListener(t,l),d.delete(t)):d.set(t,o)}T.delete(y),p.delete(c)}));return p.set(c,L),c}let p=new WeakMap;function U(r){const e=p.get(r);e==null||e()}export{Q as h,J as m,F as s,U as u};

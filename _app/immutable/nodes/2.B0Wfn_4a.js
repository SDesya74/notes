import{g as b,h as ve,p as ce,q as J,b as W,s as B,c as L,d as _e,E as w,u as F,v as q,f as he,w as ge,x as pe,y as Ee,n as C,r as N,m as re,t as ae,o as M}from"../chunks/disclose-version.imcpM2R5.js";import{E as Ae,c as xe,F as ne,p as te,G as ye,I as be,H as Te,h as X,e as R,C as me,s as H,J as Se,K as Ie,L as ke,i as Le,S as we,a as Me,M as Ce,N as Ne,O as Re,q as le,D as He,f as S,r as se,P as ie,Q as Oe}from"../chunks/runtime.CayfTqXd.js";import{s as De,d as Be}from"../chunks/render.BAgQ8ekx.js";import{p as fe}from"../chunks/proxy.nAbykh7o.js";let Y=null;function Ye(e,r){return r}function qe(e,r,a,t){for(var l=[],o=r.length,f=0;f<o;f++)Se(r[f].e,l,!0);var _=o>0&&l.length===0&&a!==null;if(_){var d=a.parentNode;he(d),d.append(a),t.clear(),T(e,r[0].prev,r[o-1].next)}Ie(l,()=>{for(var c=0;c<o;c++){var h=r[c];_||(t.delete(h.k),T(e,h.prev,h.next)),ke(h.e,!_)}})}function Fe(e,r,a,t,l,o=null){var f=e,_={flags:r,items:new Map,first:null};b&&ve();var d=null;Ae(()=>{var c=a(),h=xe(c)?c:c==null?[]:Array.from(c),i=h.length,g=_.flags;g&q&&!Le(h)&&!(we in h)&&!(Me in h)&&(g^=q,g&pe&&!(g&w)&&(g^=w));let u=!1;if(b){var v=f.data===ce;v!==(i===0)&&(f=J(),W(f),B(!1),u=!0)}if(b){for(var p=null,A,E=0;E<i;E++){if(L.nodeType===8&&L.data===_e){f=L,u=!0,B(!1);break}var x=h[E],n=t(x,E);A=ue(L,_,p,null,x,n,E,l,g),_.items.set(n,A),p=A}i>0&&W(J())}b||Ve(h,_,f,l,g,t),o!==null&&(i===0?d?ne(d):d=te(()=>o(f)):d!==null&&ye(d,()=>{d=null})),u&&B(!0)}),b&&(f=L)}function Ve(e,r,a,t,l,o){var P,G,K,Q;var f=(l&ge)!==0,_=(l&(w|F))!==0,d=e.length,c=r.items,h=r.first,i=h,g=new Set,u=null,v=new Set,p=[],A=[],E,x,n,s;if(f)for(s=0;s<d;s+=1)E=e[s],x=o(E,s),n=c.get(x),n!==void 0&&((P=n.a)==null||P.measure(),v.add(n));for(s=0;s<d;s+=1){if(E=e[s],x=o(E,s),n=c.get(x),n===void 0){var I=i?i.e.nodes.start:a;u=ue(I,r,u,u===null?r.first:u.next,E,x,s,t,l),c.set(x,u),p=[],A=[],i=u.next;continue}if(_&&Pe(n,E,s,l),n.e.f&be&&(ne(n.e),f&&((G=n.a)==null||G.unfix(),v.delete(n))),n!==i){if(g.has(n)){if(p.length<A.length){var m=A[0],y;u=m.prev;var V=p[0],O=p[p.length-1];for(y=0;y<p.length;y+=1)Z(p[y],m,a);for(y=0;y<A.length;y+=1)g.delete(A[y]);T(r,V.prev,O.next),T(r,u,V),T(r,O,m),i=m,u=O,s-=1,p=[],A=[]}else g.delete(n),Z(n,i,a),T(r,n.prev,n.next),T(r,n,u===null?r.first:u.next),T(r,u,n),u=n;continue}for(p=[],A=[];i!==null&&i.k!==x;)g.add(i),A.push(i),i=i.next;if(i===null)continue;n=i}p.push(n),u=n,i=n.next}const k=Array.from(g);for(;i!==null;)k.push(i),i=i.next;var D=k.length;if(D>0){var de=l&Ee&&d===0?a:null;if(f){for(s=0;s<D;s+=1)(K=k[s].a)==null||K.measure();for(s=0;s<D;s+=1)(Q=k[s].a)==null||Q.fix()}qe(r,k,de,c)}f&&Te(()=>{var U;for(n of v)(U=n.a)==null||U.apply()}),X.first=r.first&&r.first.e,X.last=u&&u.e}function Pe(e,r,a,t){t&w&&R(e.v,r),t&F?R(e.i,a):e.i=a}function ue(e,r,a,t,l,o,f,_,d){var c=Y;try{var h=(d&w)!==0,i=(d&q)===0,g=h?i?me(l):H(l):l,u=d&F?H(f):f,v={i:u,v:g,k:o,a:null,e:null,prev:a,next:t};return Y=v,v.e=te(()=>_(e,g,u),b),v.e.prev=a&&a.e,v.e.next=t&&t.e,a===null?r.first=v:(a.next=v,a.e.next=v.e),t!==null&&(t.prev=v,t.e.prev=v.e),v}finally{Y=c}}function Z(e,r,a){for(var t=e.next?e.next.e.nodes.start:a,l=r?r.e.nodes.start:a,o=e.e.nodes.start;o!==t;){var f=o.nextSibling;l.before(o),o=f}}function T(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}let $=!1;function oe(){$||($=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const a of e.target.elements)(r=a.__on_r)==null||r.call(a)})},{capture:!0}))}function Ge(e){if(b){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;z(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var l=e.checked;z(e,"checked",null),e.checked=l}}};e.__on_r=a,Ce(a),oe()}}function z(e,r,a){a=a==null?null:a+"";var t=e.__attributes??(e.__attributes={});b&&(t[r]=e.getAttribute(r),r==="src"||r==="href"||r==="srcset")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[Ne]=a),a===null?e.removeAttribute(r):e.setAttribute(r,a))}function Ke(e,r,a){a?e.classList.add(r):e.classList.remove(r)}function Qe(e,r,a,t=a){e.addEventListener(r,a);const l=e.__on_r;l?e.__on_r=()=>{l(),t()}:e.__on_r=t,oe()}function Ue(e,r,a){Qe(e,"input",()=>{a(j(e)?ee(e.value):e.value)}),Re(()=>{var t=r();if(b&&e.defaultValue!==e.value){a(e.value);return}j(e)&&t===ee(e.value)||e.type==="date"&&!t&&!e.value||(e.value=t??"")})}function j(e){var r=e.type;return r==="number"||r==="range"}function ee(e){return e===""?null:+e}const Je="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let We=(e=21)=>{let r="",a=crypto.getRandomValues(new Uint8Array(e));for(;e--;)r+=Je[a[e]&63];return r};var Xe=ae('<div class="rounded bg-gray-50"><p> </p></div>');function Ze(e,r){le(r,!0);let a=ie(()=>r.value.children.length>1);var t=Xe(),l=C(t),o=C(l);N(l),N(t),He(()=>{Ke(t,"bg-red-100",S(a)),De(o,r.value.text)}),re(e,t),se()}function $e(e,r,a,t,l,o,f){console.log({textInput:S(r)});let _=a(S(t),S(r));l(_),R(o,fe(f(_.id,15)))}var ze=ae('<main class="flex flex-col-reverse p-4 gap-4"><!> <div class="flex flex-row"><input type="text"> <button>Send</button></div></main>');function nr(e,r){le(r,!0);let a={};function t(n,s){return{id:We(),text:s,parent:n,children:[]}}function l(n){a[n.id]=n,n.parent&&a[n.parent].children.push(n.id)}function o(n,s=10){let I=[],m=n;for(;s-- >0;){let y=a[m];if(!y)break;m=y.parent,I.push(y)}return I}let f=t(null,"Hello World!"),_=t(f.id,"Branch 1"),d=t(f.id,"Branch 2");l(f),l(_),l(d);let c=_.id;for(let n=0;n<10;n++){let s=t(c,`Message ${n}`);c=s.id,l(s)}let h=d.id;for(let n=0;n<10;n++){let s=t(h,`Message ${n}`);h=s.id,l(s)}let i=H(fe(o(c,15))),g=ie(()=>S(i)[0].id),u=H("");var v=ze(),p=C(v);Fe(p,65,()=>S(i),Ye,(n,s,I)=>{Ze(n,{get value(){return Oe(s)}})});var A=M(M(p,!0)),E=C(A);Ge(E);var x=M(M(E,!0));x.__click=[$e,u,t,g,l,i,o],N(A),N(v),Ue(E,()=>S(u),n=>R(u,n)),re(e,v),se()}Be(["click"]);export{nr as component};
